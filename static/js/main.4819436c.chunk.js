(this["webpackJsonpweather-forecast"]=this["webpackJsonpweather-forecast"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var s=a(1),c=a.n(s),n=a(10),i=a.n(n),r=(a(15),a(7)),o=a(8),l=a(2),d=a(4),h=a(5),j=a(3),p=(a(16),a(0)),m=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.date,a=e.temp,s=e.id,c=e.day,n=e.changeDay,i=e.icon,r=new Date(1e3*t).toLocaleDateString("en-US",{weekday:"short"}),o=parseInt(s)===c?"bg-blue light-white":"bg-white violet";return Object(p.jsxs)("div",{className:"day bold round-2 mx-2 shadow-1 ".concat(o),onClick:function(){return n(s)},children:[Object(p.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(i,".png"),className:"p-2",alt:""}),Object(p.jsx)("p",{className:"weekday size-5 p",children:r}),Object(p.jsxs)("p",{className:"temp size-5 p",children:[parseInt(a),"\xb0"]})]})}}]),a}(s.Component),b=m,u=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e,t=this.props,a=t.conc,s=t.name;return Object(p.jsxs)("div",{className:"pollutant p-3 round-2 green",children:[Object(p.jsx)("p",{className:"concentration bold size-4 py-1",children:(e=a,e>9.9?parseInt(e):e)}),Object(p.jsx)("p",{className:"gas-name size-5 p",children:s.replace("_",".").toUpperCase()})]})}}]),a}(s.Component),x=u,O=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.temp,a=e.time,s=new Date(1e3*a).toLocaleTimeString("en-US",{hour:"2-digit"});return Object(p.jsxs)("div",{className:"hour bg-light-orange round-2 p-1 m-1",children:[Object(p.jsx)("div",{className:"circle",children:Object(p.jsxs)("p",{className:"temp size-3 bold orange p-2 my-1",children:[parseInt(t),"\xb0"]})}),Object(p.jsx)("p",{className:"hour-no size-6 grey",children:s})]})}}]),a}(s.Component),f=O,y=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).handleKeyPress=function(e){"Enter"===e.key&&s.state.keywords&&s.submitSearch()},s.handleSearch=function(){s.submitSearch()},s.submitSearch=function(){for(var e=s.state.keywords.split(",").map((function(e){return e.trim()})),t="",a=0;a<e.length;a++)a===e.length-1?t+=e[a]:t+=e[a]+",";s.setState({location:t})},s.state={keywords:"",location:"",dirGeoData:[{}]},s}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(o.a)(Object(r.a)().mark((function e(t,a){var s,c,n;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.location===this.state.location){e.next=10;break}return s="https://api.openweathermap.org/geo/1.0/direct?q=".concat(this.state.location,"&limit=1&appid=").concat(this.props.apiKey),e.next=4,fetch(s);case 4:return c=e.sent,e.next=7,c.json();case 7:n=e.sent,this.setState({dirGeoData:n}),a.dirGeoData!==[{}]&&this.props.setCoords(this.state.dirGeoData[0].lat,this.state.dirGeoData[0].lon);case 10:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"searchbar bg-light-white size-3 flex m-2 p-2 round-2 ",children:[Object(p.jsx)("button",{className:"size-4 m",onClick:this.handleSearch,children:Object(p.jsx)("i",{className:"fa-solid fa-magnifying-glass blue"})}),Object(p.jsx)("input",{type:"text",name:"search",className:"p-1 grey bg-light-white",placeholder:"search by city or state or country",value:this.state.keywords,onChange:function(t){e.setState({keywords:t.target.value})},onKeyDown:this.handleKeyPress}),Object(p.jsx)("i",{className:"px-1 grey fa-solid fa-multiply"})]})}}]),a}(s.Component),g=y,v=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.day,a=e.weatherData,s=e.aqiData,c=e.geoData,n=e.changeDay,i=e.setCoords,r=e.apiKey,o=a.current,l=a.daily,d=a.hourly,h=s.list;function j(e){return new Date(1e3*e).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})}var m=new Date(1e3*o.dt),u=m.toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"short",year:"numeric"}),O=m.getHours(),y="Good Morning";y=O>=4&&O<12?"Good Morning":O>=12&&O<16?"Good Afternoon":O>=16&&O<22?"Good Evening":"Good Night";for(var v=h[0],N=1;N<s.list.length;N++){if(1===parseInt(t)&&h[N].dt>l[1].dt-7200&&h[N].dt<=l[1].dt){v=h[N];break}if(2===parseInt(t)&&h[N].dt>l[2].dt-7200&&h[N].dt<=l[2].dt){v=h[N];break}if(3===parseInt(t)&&h[N].dt>l[3].dt-7200&&h[N].dt<=l[3].dt){v=h[N];break}if(4===parseInt(t)&&h[N].dt>l[4].dt-7200&&h[N].dt<=l[4].dt){v=h[N];break}}var w={1:{name:"Good",desc:"The quality of the air is perfect",color:"green"},2:{name:"Fair",desc:"Air quality is acceptable",color:"green"},3:{name:"Moderate",desc:"Unhealthy for sensitive groups",color:"green"},4:{name:"Poor",desc:"The quality of air is very unhealthy",color:"pink"},5:{name:"Very Poor",desc:"Everyone is more likely to be affected",color:"orange"}};function k(e){return w[e]}return Object(p.jsxs)("div",{className:"detailside col-md-7 px-4 py-2",children:[Object(p.jsxs)("div",{className:"header flex py-2",children:[Object(p.jsxs)("div",{className:"date-time",children:[Object(p.jsx)("h2",{className:"time blue size-1 py",children:j(o.dt)}),Object(p.jsx)("p",{className:"date violet bold size-5 py",children:u}),Object(p.jsx)("h3",{className:"greeting blue size-2 py",children:y})]}),Object(p.jsx)("div",{className:"location flex p-1 mx-1 size-1",children:Object(p.jsx)("p",{className:" bold blue",children:c[0].state})})]}),Object(p.jsx)("div",{className:"det-search",children:Object(p.jsx)(g,{setCoords:i,apiKey:r})}),Object(p.jsxs)("div",{className:"days flex py-2",children:[Object(p.jsx)(b,{id:0,date:o.dt,temp:o.temp,day:t,changeDay:n,icon:o.weather[0].icon},"0"),[1,2,3,4,5,6].map((function(e){return Object(p.jsx)(b,{id:e,date:l[e].dt,temp:l[e].temp.day,day:t,changeDay:n,icon:l[e].weather[0].icon},e)}))]}),Object(p.jsxs)("div",{className:"aqi-sec p-4 round-2 bg-white shadow-1",children:[Object(p.jsxs)("div",{className:"flex aqi-head",children:[Object(p.jsx)("h5",{className:"p violet",children:"Air Quality Index"}),Object(p.jsx)("p",{className:"date p size-6 grey",children:function(e){return new Date(1e3*e).toLocaleDateString("en-US",{month:"short",day:"2-digit"})}(v.dt)})]}),Object(p.jsxs)("div",{className:"flex py-3 ".concat(k(v.main.aqi).color),children:[Object(p.jsx)("i",{className:"wind-icon p size-2 fa-solid fa-wind"}),Object(p.jsxs)("div",{className:"p mx-2",children:[Object(p.jsx)("p",{className:"quality bold size-6",children:k(v.main.aqi).name}),Object(p.jsx)("p",{className:"descript size-6 grey",children:k(v.main.aqi).desc})]}),parseInt(t)>4?Object(p.jsx)("i",{className:"info size-6 orange fa-solid fa-circle-info",title:"AQI data of only 5 days is available"}):Object(p.jsx)(p.Fragment,{})]}),Object(p.jsx)("div",{className:"aqi-gases flex py-2 green",children:Object.keys(v.components).map((function(e){if("nh3"!==e&&"no"!==e)return Object(p.jsx)(x,{conc:v.components[e],name:e},e)}))})]}),Object(p.jsxs)("div",{className:"rise-set-section p-4 bg-white round-2 shadow-1",children:[Object(p.jsx)("h5",{className:"p violet ",children:"Sunrise & Sunset"}),Object(p.jsxs)("div",{className:"bg-light-orange round-2 my-3 p-2",children:[Object(p.jsx)("p",{className:"place size-5 py violet",children:c[0].state}),Object(p.jsxs)("div",{className:"rise-set flex py-2 my",children:[Object(p.jsxs)("div",{className:"flex rise",children:[Object(p.jsx)("i",{className:"orange fa-2x fa-solid fa-sun"}),Object(p.jsxs)("div",{className:"mx-2 px-2",children:[Object(p.jsx)("p",{className:"sunrise grey size-5 ",children:"Sunrise"}),Object(p.jsx)("p",{className:"time blue size-4 bold",children:j(0===t?o.sunrise:l[t].sunrise)})]})]}),Object(p.jsxs)("div",{className:"flex set",children:[Object(p.jsx)("i",{className:"orange fa-2x fa-solid fa-moon"}),Object(p.jsxs)("div",{className:"mx-2 px-2",children:[Object(p.jsx)("p",{className:"sunset grey size-5 ",children:"Sunset"}),Object(p.jsx)("p",{className:"time blue size-4 bold",children:j(0===t?o.sunset:l[t].sunset)})]})]})]})]})]}),Object(p.jsxs)("div",{className:"hourly bg-white flex p-2 my round-2 shadow-1",children:[" ",t<=1?d.map((function(e,a){return 0===t&&e.dt<=l[0].dt+64800||1===t&&e.dt>=l[0].dt+64800&&e.dt<=l[1].dt+64800?Object(p.jsx)(f,{temp:e.temp,time:e.dt},a):void 0})):Object(p.jsx)("div",{className:"flex alert m-1 p-1",children:Object(p.jsx)("p",{className:"size-5 bold p py-3 orange",children:"Sorry ! Hourly data for more than two days is not available"})})]})]})}}]),a}(s.Component),N=v,w=(a(18),function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).btnContainer=c.a.createRef(),s.off=c.a.createRef(),s}return Object(d.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.allowLocation,s=t.locationAllowed;return Object(p.jsx)("div",{className:"container",children:s?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{className:"pendulum first shadow-1"}),Object(p.jsx)("div",{className:"pendulum second"}),Object(p.jsx)("p",{className:"wait size-4 semi-bold grey",children:"wait..."})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{className:"give-location violet p m-1 my-3 size-4",children:"Allow access to your location to view the weather details"}),Object(p.jsx)("div",{ref:this.btnContainer,className:"btn-container-off p-1",onClick:function(){var t,s;t=e.btnContainer,s=e.off,t.current.classList.add("btn-container-on"),s.current.innerHTML="ON",setTimeout(a,600)},children:Object(p.jsxs)("div",{className:"small-btn",children:[Object(p.jsx)("p",{ref:this.off,className:"switch-off",id:"on-off",children:"OFF"}),Object(p.jsx)("div",{className:"light"})]})}),Object(p.jsx)("p",{className:"title p size-5 semi-bold blue m-1",children:"Location"})]})})}}]),a}(s.Component)),k=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){var e,t,a,s,c,n,i,r,o,l=this.props,d=l.day,h=l.weatherData,j=l.setCoords,m=l.apiKey,b=h.current,u=h.daily;function x(e){return new Date(1e3*e).toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"short"})}var O=u[d].temp.max,f=u[d].temp.night;return 0===d?(e=x(b.dt),t=b.weather[0].description,a=b.temp,s=b.feels_like,c=b.clouds,n=b.wind_speed,i=b.humidity,r=b.pressure,o=b.weather[0].icon):(e=x(u[d].dt),t=u[d].weather[0].description,a=u[d].temp.day,s=u[d].feels_like.day,c=u[d].clouds,n=u[d].wind_speed,i=u[d].humidity,r=u[d].pressure,o=u[d].weather[0].icon),Object(p.jsxs)("div",{className:"tempSide bg-white p-4",children:[Object(p.jsx)("div",{className:"temp-search",children:Object(p.jsx)(g,{setCoords:j,apiKey:m})}),Object(p.jsxs)("div",{className:"temp-card flex bg-blue light-white round-2 mx-2 my-3 p-4 shadow-2",children:[Object(p.jsx)("img",{src:"http://openweathermap.org/img/wn/".concat(o,"@2x.png"),className:"",alt:""}),Object(p.jsx)("p",{className:"date semi-bold size-5 p-2 m-2",children:e}),Object(p.jsxs)("h1",{className:"temp my-2",children:[parseInt(a),"\xb0"]}),Object(p.jsx)("p",{className:"day-desc p bold m-2",children:t}),Object(p.jsxs)("div",{className:"flex fields p my-1",children:[Object(p.jsx)("p",{className:"name feels-like",children:"Feels"}),Object(p.jsx)("div",{className:"separator mx-2"}),Object(p.jsxs)("p",{className:"value",children:[s,"\xb0"]})]}),Object(p.jsxs)("div",{className:"flex fields p my-1",children:[Object(p.jsx)("p",{className:"name rain",children:"Precipitaion"}),Object(p.jsx)("div",{className:"separator mx-2"}),Object(p.jsxs)("p",{className:"value",children:[c," %"]})]}),Object(p.jsxs)("div",{className:"flex fields p my-1",children:[Object(p.jsx)("p",{className:"name day-temp",children:"Day"}),Object(p.jsx)("div",{className:"separator mx-2"}),Object(p.jsxs)("p",{className:"value",children:[parseInt(O),"\xb0"]})]}),Object(p.jsxs)("div",{className:"flex fields p my-1",children:[Object(p.jsx)("p",{className:"name night-temp",children:"Night"}),Object(p.jsx)("div",{className:"separator mx-2"}),Object(p.jsxs)("p",{className:"value",children:[parseInt(f),"\xb0"]})]})]}),Object(p.jsxs)("div",{className:"wind-card bg-pink round-2 light-white p-4 m-2 shadow-2",children:[Object(p.jsxs)("div",{className:"flex fields p my-1 size-5",children:[Object(p.jsx)("i",{className:"fa-solid fa-wind"}),Object(p.jsx)("p",{className:"name mx-3",children:"Wind"}),Object(p.jsx)("p",{className:"separator mx-2"}),Object(p.jsxs)("p",{className:"value",children:[parseInt(3.6*n)," km/h"]})]}),Object(p.jsxs)("div",{className:"flex fields p my-1 size-5",children:[Object(p.jsx)("i",{className:"fa-solid fa-droplet"}),Object(p.jsx)("p",{className:"name mx-3",children:"Humidity"}),Object(p.jsx)("p",{className:"separator mx-2"}),Object(p.jsxs)("p",{className:"value",children:[i," %"]})]}),Object(p.jsxs)("div",{className:"flex fields p my-1 size-5",children:[Object(p.jsx)("i",{className:"fa-brands fa-safari"}),Object(p.jsx)("p",{className:"name mx-3",children:"Pressure"}),Object(p.jsx)("p",{className:"separator mx-2"}),Object(p.jsxs)("p",{className:"value",children:[parseInt(r)," hPa"]})]})]}),Object(p.jsxs)("div",{className:"footer flex grey px-3 m size-8",children:[Object(p.jsx)("p",{className:"dev",children:"By Kishan Kumar"}),Object(p.jsx)("p",{className:"api-name",children:"openweathermap.org"})]})]})}}]),a}(s.Component),D=k,S=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).apiKey="2922cde1d817434ee023b1107adcfdc3",e.getPosition=function(t){e.setState({lat:t.coords.latitude,long:t.coords.longitude,locationAllowed:!0,isLoading:!0})},e.handleError=function(t){e.setState({locError:!0,isLoading:!0,lat:"28.644800",long:"77.216721"}),alert("Unable to access location !"),console.log(t)},e.setCoords=function(t,a){t&&a&&e.setState({lat:t,long:a,day:0})},e.allowLocation=Object(o.a)(Object(r.a)().mark((function t(){return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,navigator.geolocation;case 2:if(!t.sent){t.next=7;break}return t.next=5,navigator.geolocation.getCurrentPosition(e.getPosition,e.handleError,{timeout:1e4});case 5:t.next=9;break;case 7:e.setState({locError:!0,isLoading:!0,lat:"28.644800",long:"77.216721"}),alert("Sorry! Geolocation is not supported");case 9:case"end":return t.stop()}}),t)}))),e.changeDay=function(t){e.setState({day:parseInt(t)})},e.state={weatherData:{},aqiData:{},geoData:[{}],isLoading:!1,locationAllowed:!1,locError:!1,lat:"",long:"",day:0},e}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(o.a)(Object(r.a)().mark((function e(t,a){var s,c,n,i,o,l,d,h,j;return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.lat===this.state.lat){e.next=24;break}return this.setState({isLoading:!0}),s="https://api.openweathermap.org/data/2.5/onecall?lat=".concat(this.state.lat,"&lon=").concat(this.state.long,"&units=metric&exclude=minutely,alerts&appid=").concat(this.apiKey),e.next=5,fetch(s);case 5:return c=e.sent,e.next=8,c.json();case 8:return n=e.sent,i="https://api.openweathermap.org/data/2.5/air_pollution/forecast?lat=".concat(this.state.lat,"&lon=").concat(this.state.long,"&appid=").concat(this.apiKey),e.next=12,fetch(i);case 12:return o=e.sent,e.next=15,o.json();case 15:return l=e.sent,d="https://api.openweathermap.org/geo/1.0/reverse?lat=".concat(this.state.lat,"&lon=").concat(this.state.long,"&limit=2&appid=").concat(this.apiKey),e.next=19,fetch(d);case 19:return h=e.sent,e.next=22,h.json();case 22:j=e.sent,this.setState({weatherData:n,aqiData:l,geoData:j,isLoading:!1});case 24:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(p.jsx)("div",{className:"home",children:!this.state.locationAllowed&&!this.state.locError||this.state.isLoading?Object(p.jsx)(w,{locationAllowed:this.state.locationAllowed,allowLocation:this.allowLocation}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(N,{weatherData:this.state.weatherData,aqiData:this.state.aqiData,geoData:this.state.geoData,day:this.state.day,changeDay:this.changeDay,apiKey:this.apiKey,setCoords:this.setCoords}),Object(p.jsx)(D,{weatherData:this.state.weatherData,day:this.state.day,apiKey:this.apiKey,setCoords:this.setCoords})]})})}}]),a}(s.Component),z=S;i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(z,{})}),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4819436c.chunk.js.map